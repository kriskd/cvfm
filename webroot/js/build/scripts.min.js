!function(t,e,i){function o(i,o,n){var r=e.createElement(i);return o&&(r.id=te+o),n&&(r.style.cssText=n),t(r)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function r(t){var e=E.length,i=(j+t)%e;return 0>i?e+i:i}function l(t,e){return Math.round((/%/.test(t)?("x"===e?H.width():n())/100:1)*parseInt(t,10))}function h(t,e){return t.photo||t.photoRegex.test(e)}function a(t,e){return t.retinaUrl&&i.devicePixelRatio>1?e.replace(t.photoRegex,t.retinaSuffix):e}function s(t){"contains"in v[0]&&!v[0].contains(t.target)&&(t.stopPropagation(),v.focus())}function d(){var e,i=t.data(A,Z);null==i?(O=t.extend({},Y),console&&console.log&&console.log("Error: cboxElement missing settings object")):O=t.extend({},i);for(e in O)t.isFunction(O[e])&&"on"!==e.slice(0,2)&&(O[e]=O[e].call(A));O.rel=O.rel||A.rel||t(A).data("rel")||"nofollow",O.href=O.href||t(A).attr("href"),O.title=O.title||A.title,"string"==typeof O.href&&(O.href=t.trim(O.href))}function c(i,o){t(e).trigger(i),ae.trigger(i),t.isFunction(o)&&o.call(A)}function u(){var t,e,i,o,n,r=te+"Slideshow_",l="click."+te;O.slideshow&&E[1]?(e=function(){clearTimeout(t)},i=function(){(O.loop||E[j+1])&&(t=setTimeout(J.next,O.slideshowSpeed))},o=function(){R.html(O.slideshowStop).unbind(l).one(l,n),ae.bind(ne,i).bind(oe,e).bind(re,n),v.removeClass(r+"off").addClass(r+"on")},n=function(){e(),ae.unbind(ne,i).unbind(oe,e).unbind(re,n),R.html(O.slideshowStart).unbind(l).one(l,function(){J.next(),o()}),v.removeClass(r+"on").addClass(r+"off")},O.slideshowAuto?o():n()):v.removeClass(r+"off "+r+"on")}function p(i){G||(A=i,d(),E=t(A),j=0,"nofollow"!==O.rel&&(E=t("."+ee).filter(function(){var e,i=t.data(this,Z);return i&&(e=t(this).data("rel")||i.rel||this.rel),e===O.rel}),j=E.index(A),-1===j&&(E=E.add(A),j=E.length-1)),g.css({opacity:parseFloat(O.opacity),cursor:O.overlayClose?"pointer":"auto",visibility:"visible"}).show(),V&&v.add(g).removeClass(V),O.className&&v.add(g).addClass(O.className),V=O.className,O.closeButton?P.html(O.close).appendTo(x):P.appendTo("<div/>"),$||($=q=!0,v.css({visibility:"hidden",display:"block"}),W=o(se,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(x),_=b.height()+k.height()+x.outerHeight(!0)-x.height(),D=T.width()+C.width()+x.outerWidth(!0)-x.width(),N=W.outerHeight(!0),z=W.outerWidth(!0),O.w=l(O.initialWidth,"x"),O.h=l(O.initialHeight,"y"),J.position(),u(),c(ie,O.onOpen),B.add(S).hide(),v.focus(),O.trapFocus&&e.addEventListener&&(e.addEventListener("focus",s,!0),ae.one(le,function(){e.removeEventListener("focus",s,!0)})),O.returnFocus&&ae.one(le,function(){t(A).focus()})),w())}function f(){!v&&e.body&&(X=!1,H=t(i),v=o(se).attr({id:Z,"class":t.support.opacity===!1?te+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=o(se,"Overlay").hide(),L=t([o(se,"LoadingOverlay")[0],o(se,"LoadingGraphic")[0]]),y=o(se,"Wrapper"),x=o(se,"Content").append(S=o(se,"Title"),M=o(se,"Current"),K=t('<button type="button"/>').attr({id:te+"Previous"}),I=t('<button type="button"/>').attr({id:te+"Next"}),R=o("button","Slideshow"),L),P=t('<button type="button"/>').attr({id:te+"Close"}),y.append(o(se).append(o(se,"TopLeft"),b=o(se,"TopCenter"),o(se,"TopRight")),o(se,!1,"clear:left").append(T=o(se,"MiddleLeft"),x,C=o(se,"MiddleRight")),o(se,!1,"clear:left").append(o(se,"BottomLeft"),k=o(se,"BottomCenter"),o(se,"BottomRight"))).find("div div").css({"float":"left"}),F=o(se,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),B=I.add(K).add(M).add(R),t(e.body).append(g,v.append(y,F)))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),p(this))}return v?(X||(X=!0,I.click(function(){J.next()}),K.click(function(){J.prev()}),P.click(function(){J.close()}),g.click(function(){O.overlayClose&&J.close()}),t(e).bind("keydown."+te,function(t){var e=t.keyCode;$&&O.escKey&&27===e&&(t.preventDefault(),J.close()),$&&O.arrowKey&&E[1]&&!t.altKey&&(37===e?(t.preventDefault(),K.click()):39===e&&(t.preventDefault(),I.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+te,"."+ee,i):t("."+ee).live("click."+te,i)),!0):!1}function w(){var n,r,s,u=J.prep,p=++de;q=!0,U=!1,A=E[j],d(),c(he),c(oe,O.onLoad),O.h=O.height?l(O.height,"y")-N-_:O.innerHeight&&l(O.innerHeight,"y"),O.w=O.width?l(O.width,"x")-z-D:O.innerWidth&&l(O.innerWidth,"x"),O.mw=O.w,O.mh=O.h,O.maxWidth&&(O.mw=l(O.maxWidth,"x")-z-D,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.maxHeight&&(O.mh=l(O.maxHeight,"y")-N-_,O.mh=O.h&&O.h<O.mh?O.h:O.mh),n=O.href,Q=setTimeout(function(){L.show()},100),O.inline?(s=o(se).hide().insertBefore(t(n)[0]),ae.one(he,function(){s.replaceWith(W.children())}),u(t(n))):O.iframe?u(" "):O.html?u(O.html):h(O,n)?(n=a(O,n),U=e.createElement("img"),t(U).addClass(te+"Photo").bind("error",function(){O.title=!1,u(o(se,"Error").html(O.imgError))}).one("load",function(){var e;p===de&&(U.alt=t(A).attr("alt")||t(A).attr("data-alt")||"",O.retinaImage&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),O.scalePhotos&&(r=function(){U.height-=U.height*e,U.width-=U.width*e},O.mw&&U.width>O.mw&&(e=(U.width-O.mw)/U.width,r()),O.mh&&U.height>O.mh&&(e=(U.height-O.mh)/U.height,r())),O.h&&(U.style.marginTop=Math.max(O.mh-U.height,0)/2+"px"),E[1]&&(O.loop||E[j+1])&&(U.style.cursor="pointer",U.onclick=function(){J.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",setTimeout(function(){u(U)},1))}),setTimeout(function(){U.src=n},1)):n&&F.load(n,O.data,function(e,i){p===de&&u("error"===i?o(se,"Error").html(O.xhrError):t(this).contents())})}var g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I,K,P,B,O,_,D,N,z,A,j,U,$,q,G,Q,J,V,X,Y={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},Z="colorbox",te="cbox",ee=te+"Element",ie=te+"_open",oe=te+"_load",ne=te+"_complete",re=te+"_cleanup",le=te+"_closed",he=te+"_purge",ae=t("<a/>"),se="div",de=0,ce={};t.colorbox||(t(f),J=t.fn[Z]=t[Z]=function(e,i){var o=this;if(e=e||{},f(),m()){if(t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;i&&(e.onComplete=i),o.each(function(){t.data(this,Z,t.extend({},t.data(this,Z)||Y,e))}).addClass(ee),(t.isFunction(e.open)&&e.open.call(o)||e.open)&&p(o[0])}return o},J.position=function(e,i){function o(t){b[0].style.width=k[0].style.width=x[0].style.width=parseInt(t.style.width,10)-D+"px",x[0].style.height=T[0].style.height=C[0].style.height=parseInt(t.style.height,10)-_+"px"}var r,h,a,s=0,d=0,c=v.offset();if(H.unbind("resize."+te),v.css({top:-9e4,left:-9e4}),h=H.scrollTop(),a=H.scrollLeft(),O.fixed?(c.top-=h,c.left-=a,v.css({position:"fixed"})):(s=h,d=a,v.css({position:"absolute"})),d+=O.right!==!1?Math.max(H.width()-O.w-z-D-l(O.right,"x"),0):O.left!==!1?l(O.left,"x"):Math.round(Math.max(H.width()-O.w-z-D,0)/2),s+=O.bottom!==!1?Math.max(n()-O.h-N-_-l(O.bottom,"y"),0):O.top!==!1?l(O.top,"y"):Math.round(Math.max(n()-O.h-N-_,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",r={width:O.w+z+D,height:O.h+N+_,top:s,left:d},e){var u=0;t.each(r,function(t){return r[t]!==ce[t]?(u=e,void 0):void 0}),e=u}ce=r,v.dequeue().animate(r,{duration:e||0,complete:function(){o(this),q=!1,y[0].style.width=O.w+z+D+"px",y[0].style.height=O.h+N+_+"px",O.reposition&&setTimeout(function(){H.bind("resize."+te,J.position)},1),i&&i()},step:function(){o(this)}})},J.resize=function(t){var e;$&&(t=t||{},t.width&&(O.w=l(t.width,"x")-z-D),t.innerWidth&&(O.w=l(t.innerWidth,"x")),W.css({width:O.w}),t.height&&(O.h=l(t.height,"y")-N-_),t.innerHeight&&(O.h=l(t.innerHeight,"y")),t.innerHeight||t.height||(e=W.scrollTop(),W.css({height:"auto"}),O.h=W.height()),W.css({height:O.h}),e&&W.scrollTop(e),J.position("none"===O.transition?0:O.speed))},J.prep=function(i){function n(){return O.w=O.w||W.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}function l(){return O.h=O.h||W.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}if($){var s,d="none"===O.transition?0:O.speed;W.empty().remove(),W=o(se,"LoadedContent").append(i),W.hide().appendTo(F.show()).css({width:n(),overflow:O.scrolling?"auto":"hidden"}).css({height:l()}).prependTo(x),F.hide(),t(U).css({"float":"none"}),s=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,l,s=E.length,u="frameBorder",p="allowTransparency";$&&(l=function(){clearTimeout(Q),L.hide(),c(ne,O.onComplete)},S.html(O.title).add(W).show(),s>1?("string"==typeof O.current&&M.html(O.current.replace("{current}",j+1).replace("{total}",s)).show(),I[O.loop||s-1>j?"show":"hide"]().html(O.next),K[O.loop||j?"show":"hide"]().html(O.previous),O.slideshow&&R.show(),O.preloading&&t.each([r(-1),r(1)],function(){var i,o,n=E[this],r=t.data(n,Z);r&&r.href?(i=r.href,t.isFunction(i)&&(i=i.call(n))):i=t(n).attr("href"),i&&h(r,i)&&(i=a(r,i),o=e.createElement("img"),o.src=i)})):B.hide(),O.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),p in n&&(n[p]="true"),O.scrolling||(n.scrolling="no"),t(n).attr({src:O.href,name:(new Date).getTime(),"class":te+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).appendTo(W),ae.one(he,function(){n.src="//about:blank"}),O.fastIframe&&t(n).trigger("load")):l(),"fade"===O.transition?v.fadeTo(d,1,i):i())},"fade"===O.transition?v.fadeTo(d,0,function(){J.position(0,s)}):J.position(d,s)}},J.next=function(){!q&&E[1]&&(O.loop||E[j+1])&&(j=r(1),p(E[j]))},J.prev=function(){!q&&E[1]&&(O.loop||j)&&(j=r(-1),p(E[j]))},J.close=function(){$&&!G&&(G=!0,$=!1,c(re,O.onCleanup),H.unbind("."+te),g.fadeTo(O.fadeOut||0,0),v.stop().fadeTo(O.fadeOut||0,0,function(){v.add(g).css({opacity:1,cursor:"auto"}).hide(),c(he),W.empty().remove(),setTimeout(function(){G=!1,c(le,O.onClosed)},1)}))},J.remove=function(){v&&(v.stop(),t.colorbox.close(),v.stop().remove(),g.remove(),G=!1,v=null,t("."+ee).removeData(Z).removeClass(ee),t(e).unbind("click."+te))},J.element=function(){return t(A)},J.settings=Y)}(jQuery,document,window),function($){var allImages={},imageCounter=0;$.galleriffic={version:"2.0.1",normalizeHash:function(hash){return hash.replace(/^.*#/,"").replace(/\?.*$/,"")},getImage:function(hash){return hash?(hash=$.galleriffic.normalizeHash(hash),allImages[hash]):void 0},gotoImage:function(hash){var imageData=$.galleriffic.getImage(hash);if(!imageData)return!1;var gallery=imageData.gallery;return gallery.gotoImage(imageData),!0},removeImageByHash:function(hash,ownerGallery){var imageData=$.galleriffic.getImage(hash);if(!imageData)return!1;var gallery=imageData.gallery;return ownerGallery&&ownerGallery!=gallery?!1:gallery.removeImageByIndex(imageData.index)}};var defaults={delay:3e3,numThumbs:20,preloadAhead:40,enableTopPager:!1,enableBottomPager:!0,maxPagesToShow:7,imageContainerSel:"",captionContainerSel:"",controlsContainerSel:"",loadingContainerSel:"",renderSSControls:!0,renderNavControls:!0,playLinkText:"Play",pauseLinkText:"Pause",prevLinkText:"Previous",nextLinkText:"Next",nextPageLinkText:"Next &rsaquo;",prevPageLinkText:"&lsaquo; Prev",enableHistory:!1,enableKeyboardNavigation:!0,autoStart:!1,syncTransitions:!1,defaultTransitionDuration:1e3,onSlideChange:void 0,onTransitionOut:void 0,onTransitionIn:void 0,onPageTransitionOut:void 0,onPageTransitionIn:void 0,onImageAdded:void 0,onImageRemoved:void 0};$.fn.galleriffic=function(settings){$.extend(this,{version:$.galleriffic.version,isSlideshowRunning:!1,slideshowTimeout:void 0,clickHandler:function(e,link){if(this.pause(),!this.enableHistory){var hash=$.galleriffic.normalizeHash($(link).attr("href"));$.galleriffic.gotoImage(hash),e.preventDefault()}},appendImage:function(listItem){return this.addImage(listItem,!1,!1),this},insertImage:function(listItem,position){return this.addImage(listItem,!1,!0,position),this},addImage:function(listItem,thumbExists,insert,position){var $li="string"==typeof listItem?$(listItem):listItem,$aThumb=$li.find("a.thumb"),slideUrl=$aThumb.attr("href"),title=$aThumb.attr("title"),$caption=$li.find(".caption").remove(),hash=$aThumb.attr("name");imageCounter++,(!hash||allImages[""+hash])&&(hash=imageCounter),insert||(position=this.data.length);var imageData={title:title,slideUrl:slideUrl,caption:$caption,hash:hash,gallery:this,index:position};insert?(this.data.splice(position,0,imageData),this.updateIndices(position)):this.data.push(imageData);var gallery=this;return thumbExists||this.updateThumbs(function(){var $thumbsUl=gallery.find("ul.thumbs");insert?$thumbsUl.children(":eq("+position+")").before($li):$thumbsUl.append($li),gallery.onImageAdded&&gallery.onImageAdded(imageData,$li)}),allImages[""+hash]=imageData,$aThumb.attr("rel","history").attr("href","#"+hash).removeAttr("name").click(function(e){gallery.clickHandler(e,this)}),this},removeImageByIndex:function(index){if(0>index||index>=this.data.length)return!1;var imageData=this.data[index];return imageData?(this.removeImage(imageData),!0):!1},removeImageByHash:function(hash){return $.galleriffic.removeImageByHash(hash,this)},removeImage:function(imageData){var index=imageData.index;return this.data.splice(index,1),delete allImages[""+imageData.hash],this.updateThumbs(function(){var $li=gallery.find("ul.thumbs").children(":eq("+index+")").remove();gallery.onImageRemoved&&gallery.onImageRemoved(imageData,$li)}),this.updateIndices(index),this},updateIndices:function(startIndex){for(i=startIndex;i<this.data.length;i++)this.data[i].index=i;return this},initializeThumbs:function(){this.data=[];var gallery=this;return this.find("ul.thumbs > li").each(function(){gallery.addImage($(this),!0,!1)}),this},isPreloadComplete:!1,preloadInit:function(){if(0==this.preloadAhead)return this;this.preloadStartIndex=this.currentImage.index;var nextIndex=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,nextIndex)},preloadRelocate:function(index){return this.preloadStartIndex=index,this},preloadRecursive:function(startIndex,currentIndex){if(startIndex!=this.preloadStartIndex){var nextIndex=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,nextIndex)}var gallery=this,preloadCount=currentIndex-startIndex;if(0>preloadCount&&(preloadCount=this.data.length-1-startIndex+currentIndex),this.preloadAhead>=0&&preloadCount>this.preloadAhead)return setTimeout(function(){gallery.preloadRecursive(startIndex,currentIndex)},500),this;var imageData=this.data[currentIndex];if(!imageData)return this;if(imageData.image)return this.preloadNext(startIndex,currentIndex);var image=new Image;return image.onload=function(){imageData.image=this,gallery.preloadNext(startIndex,currentIndex)},image.alt=imageData.title,image.src=imageData.slideUrl,this},preloadNext:function(startIndex,currentIndex){var nextIndex=this.getNextIndex(currentIndex);if(nextIndex==startIndex)this.isPreloadComplete=!0;else{var gallery=this;setTimeout(function(){gallery.preloadRecursive(startIndex,nextIndex)},100)}return this},getNextIndex:function(index){var nextIndex=index+1;return nextIndex>=this.data.length&&(nextIndex=0),nextIndex},getPrevIndex:function(index){var prevIndex=index-1;return 0>prevIndex&&(prevIndex=this.data.length-1),prevIndex},pause:function(){return this.isSlideshowRunning=!1,this.slideshowTimeout&&(clearTimeout(this.slideshowTimeout),this.slideshowTimeout=void 0),this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("play").attr("title",this.playLinkText).attr("href","#play").html(this.playLinkText),this},play:function(){if(this.isSlideshowRunning=!0,this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("pause").attr("title",this.pauseLinkText).attr("href","#pause").html(this.pauseLinkText),!this.slideshowTimeout){var gallery=this;this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)}return this},toggleSlideshow:function(){return this.isSlideshowRunning?this.pause():this.play(),this},ssAdvance:function(){return this.isSlideshowRunning&&this.next(!0),this},next:function(dontPause,bypassHistory){return this.gotoIndex(this.getNextIndex(this.currentImage.index),dontPause,bypassHistory),this},previous:function(dontPause,bypassHistory){return this.gotoIndex(this.getPrevIndex(this.currentImage.index),dontPause,bypassHistory),this},nextPage:function(dontPause,bypassHistory){var page=this.getCurrentPage(),lastPage=this.getNumPages()-1;if(lastPage>page){var startIndex=page*this.numThumbs,nextPage=startIndex+this.numThumbs;this.gotoIndex(nextPage,dontPause,bypassHistory)}return this},previousPage:function(dontPause,bypassHistory){var page=this.getCurrentPage();if(page>0){var startIndex=page*this.numThumbs,prevPage=startIndex-this.numThumbs;this.gotoIndex(prevPage,dontPause,bypassHistory)}return this},gotoIndex:function(index,dontPause,bypassHistory){dontPause||this.pause(),0>index?index=0:index>=this.data.length&&(index=this.data.length-1);var imageData=this.data[index];return!bypassHistory&&this.enableHistory?$.historyLoad(String(imageData.hash)):this.gotoImage(imageData),this},gotoImage:function(imageData){var index=imageData.index;return this.onSlideChange&&this.onSlideChange(this.currentImage.index,index),this.currentImage=imageData,this.preloadRelocate(index),this.refresh(),this},getDefaultTransitionDuration:function(isSync){return isSync?this.defaultTransitionDuration:this.defaultTransitionDuration/2},refresh:function(){var imageData=this.currentImage;if(!imageData)return this;var index=imageData.index;this.$controlsContainer&&this.$controlsContainer.find("div.nav-controls a.prev").attr("href","#"+this.data[this.getPrevIndex(index)].hash).end().find("div.nav-controls a.next").attr("href","#"+this.data[this.getNextIndex(index)].hash);var previousSlide=this.$imageContainer.find("span.current").addClass("previous").removeClass("current"),previousCaption=0;this.$captionContainer&&(previousCaption=this.$captionContainer.find("span.current").addClass("previous").removeClass("current"));var isSync=this.syncTransitions&&imageData.image,isTransitioning=!0,gallery=this,transitionOutCallback=function(){isTransitioning=!1,previousSlide.remove(),previousCaption&&previousCaption.remove(),isSync||(imageData.image&&imageData.hash==gallery.data[gallery.currentImage.index].hash?gallery.buildImage(imageData,isSync):gallery.$loadingContainer&&gallery.$loadingContainer.show())};if(0==previousSlide.length?transitionOutCallback():this.onTransitionOut?this.onTransitionOut(previousSlide,previousCaption,isSync,transitionOutCallback):(previousSlide.fadeTo(this.getDefaultTransitionDuration(isSync),0,transitionOutCallback),previousCaption&&previousCaption.fadeTo(this.getDefaultTransitionDuration(isSync),0)),isSync&&this.buildImage(imageData,isSync),!imageData.image){var image=new Image;image.onload=function(){imageData.image=this,isTransitioning||imageData.hash!=gallery.data[gallery.currentImage.index].hash||gallery.buildImage(imageData,isSync)},image.alt=imageData.title,image.src=imageData.slideUrl}return this.relocatePreload=!0,this.syncThumbs()},buildImage:function(imageData,isSync){var gallery=this,nextIndex=this.getNextIndex(imageData.index),newSlide=this.$imageContainer.append('<span class="image-wrapper current"><a class="advance-link" rel="history" href="#'+this.data[nextIndex].hash+'" title="'+imageData.title+'">&nbsp;</a></span>').find("span.current").css("opacity","0");newSlide.find("a").append(imageData.image).click(function(e){gallery.clickHandler(e,this)});var newCaption=0;return this.$captionContainer&&(newCaption=this.$captionContainer.append('<span class="image-caption current"></span>').find("span.current").css("opacity","0").append(imageData.caption)),this.$loadingContainer&&this.$loadingContainer.hide(),this.onTransitionIn?this.onTransitionIn(newSlide,newCaption,isSync):(newSlide.fadeTo(this.getDefaultTransitionDuration(isSync),1),newCaption&&newCaption.fadeTo(this.getDefaultTransitionDuration(isSync),1)),this.isSlideshowRunning&&(this.slideshowTimeout&&clearTimeout(this.slideshowTimeout),this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)),this},getCurrentPage:function(){return Math.floor(this.currentImage.index/this.numThumbs)},syncThumbs:function(){var page=this.getCurrentPage();page!=this.displayedPage&&this.updateThumbs();var $thumbs=this.find("ul.thumbs").children();return $thumbs.filter(".selected").removeClass("selected"),$thumbs.eq(this.currentImage.index).addClass("selected"),this},updateThumbs:function(postTransitionOutHandler){var gallery=this,transitionOutCallback=function(){postTransitionOutHandler&&postTransitionOutHandler(),gallery.rebuildThumbs(),gallery.onPageTransitionIn?gallery.onPageTransitionIn():gallery.show()};return this.onPageTransitionOut?this.onPageTransitionOut(transitionOutCallback):(this.hide(),transitionOutCallback()),this},rebuildThumbs:function(){var needsPagination=this.data.length>this.numThumbs;if(this.enableTopPager){var $topPager=this.find("div.top");0==$topPager.length?$topPager=this.prepend('<div class="top pagination"></div>').find("div.top"):$topPager.empty(),needsPagination&&this.buildPager($topPager)}if(this.enableBottomPager){var $bottomPager=this.find("div.bottom");0==$bottomPager.length?$bottomPager=this.append('<div class="bottom pagination"></div>').find("div.bottom"):$bottomPager.empty(),needsPagination&&this.buildPager($bottomPager)}var page=this.getCurrentPage(),startIndex=page*this.numThumbs,stopIndex=startIndex+this.numThumbs-1;stopIndex>=this.data.length&&(stopIndex=this.data.length-1);var $thumbsUl=this.find("ul.thumbs");return $thumbsUl.find("li").each(function(i){var $li=$(this);i>=startIndex&&stopIndex>=i?$li.show():$li.hide()}),this.displayedPage=page,$thumbsUl.removeClass("noscript"),this},getNumPages:function(){return Math.ceil(this.data.length/this.numThumbs)},buildPager:function(pager){var gallery=this,numPages=this.getNumPages(),page=this.getCurrentPage(),startIndex=page*this.numThumbs,pagesRemaining=this.maxPagesToShow-1,pageNum=page-Math.floor((this.maxPagesToShow-1)/2)+1;if(pageNum>0){var remainingPageCount=numPages-pageNum;pagesRemaining>remainingPageCount&&(pageNum-=pagesRemaining-remainingPageCount)}if(0>pageNum&&(pageNum=0),page>0){var prevPage=startIndex-this.numThumbs;pager.append('<a rel="history" href="#'+this.data[prevPage].hash+'" title="'+this.prevPageLinkText+'">'+this.prevPageLinkText+"</a>")}for(pageNum>0&&(this.buildPageLink(pager,0,numPages),pageNum>1&&pager.append('<span class="ellipsis">&hellip;</span>'),pagesRemaining--);pagesRemaining>0;)this.buildPageLink(pager,pageNum,numPages),pagesRemaining--,pageNum++;if(numPages>pageNum){var lastPageNum=numPages-1;lastPageNum>pageNum&&pager.append('<span class="ellipsis">&hellip;</span>'),this.buildPageLink(pager,lastPageNum,numPages)}var nextPage=startIndex+this.numThumbs;return nextPage<this.data.length&&pager.append('<a rel="history" href="#'+this.data[nextPage].hash+'" title="'+this.nextPageLinkText+'">'+this.nextPageLinkText+"</a>"),pager.find("a").click(function(e){gallery.clickHandler(e,this)}),this},buildPageLink:function(pager,pageNum,numPages){var pageLabel=pageNum+1,currentPage=this.getCurrentPage();if(pageNum==currentPage)pager.append('<span class="current">'+pageLabel+"</span>");else if(numPages>pageNum){var imageIndex=pageNum*this.numThumbs;pager.append('<a rel="history" href="#'+this.data[imageIndex].hash+'" title="'+pageLabel+'">'+pageLabel+"</a>")}return this}}),$.extend(this,defaults,settings),this.enableHistory&&!$.historyInit&&(this.enableHistory=!1),this.imageContainerSel&&(this.$imageContainer=$(this.imageContainerSel)),this.captionContainerSel&&(this.$captionContainer=$(this.captionContainerSel)),this.loadingContainerSel&&(this.$loadingContainer=$(this.loadingContainerSel)),this.initializeThumbs(),this.maxPagesToShow<3&&(this.maxPagesToShow=3),this.displayedPage=-1,this.currentImage=this.data[0];var gallery=this;this.$loadingContainer&&this.$loadingContainer.hide(),this.controlsContainerSel&&(this.$controlsContainer=$(this.controlsContainerSel).empty(),this.renderSSControls&&(this.autoStart?this.$controlsContainer.append('<div class="ss-controls"><a href="#pause" class="pause" title="'+this.pauseLinkText+'">'+this.pauseLinkText+"</a></div>"):this.$controlsContainer.append('<div class="ss-controls"><a href="#play" class="play" title="'+this.playLinkText+'">'+this.playLinkText+"</a></div>"),this.$controlsContainer.find("div.ss-controls a").click(function(e){return gallery.toggleSlideshow(),e.preventDefault(),!1})),this.renderNavControls&&this.$controlsContainer.append('<div class="nav-controls"><a class="prev" rel="history" title="'+this.prevLinkText+'">'+this.prevLinkText+'</a><a class="next" rel="history" title="'+this.nextLinkText+'">'+this.nextLinkText+"</a></div>").find("div.nav-controls a").click(function(e){gallery.clickHandler(e,this)}));var initFirstImage=!this.enableHistory||!location.hash;if(this.enableHistory&&location.hash){var hash=$.galleriffic.normalizeHash(location.hash),imageData=allImages[hash];imageData||(initFirstImage=!0)}return initFirstImage&&this.gotoIndex(0,!1,!0),this.enableKeyboardNavigation&&$(document).keydown(function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0;switch(key){case 32:gallery.next(),e.preventDefault();break;case 33:gallery.previousPage(),e.preventDefault();break;case 34:gallery.nextPage(),e.preventDefault();break;case 35:gallery.gotoIndex(gallery.data.length-1),e.preventDefault();break;case 36:gallery.gotoIndex(0),e.preventDefault();break;case 37:gallery.previous(),e.preventDefault();break;case 39:gallery.next(),e.preventDefault()}}),this.autoStart&&this.play(),setTimeout(function(){gallery.preloadInit()},1e3),this}}(jQuery),$(document).ready(function(){var name="info",domain="capitolviewfarmersmarket.com";if($(".email").append('<a href="mailto:'+name+"@"+domain+'">'+name+"@"+domain+"</a>"),$(".colorbox").colorbox({iframe:!0,width:"600px",height:"500px"}),$(".confirm").click(function(){var answer=confirm("Do you want to delete?");return answer?!0:!1}),$("select#ProductVendorsProductType").change(function(){$(".products").empty();var item=$(this).val(),html='<select name="data[Vendor][product_id]"><option value=""></option>';$.get("/products/get_products/"+item,function(data){for(var i=0;i<data.length;i++){var product_arr=data[i];for(var key in product_arr)if("Product"==key){var product=product_arr[key];html+="<option value="+product.id+'">'+product.name+"</option>"}}html+="</select>",$(".products").append(html)},"json")}),$("select.products").change(function(){$(this).addClass("selected-category"),$(".products .results").empty();var item=Number($(this).val());if($("select.products").each(function(){$(this).hasClass("selected-category")||$(this).find("option:eq(0)").attr("selected","selected")}),$(this).removeClass("selected-category"),item>0){var html="";$.get("/products/get_vendors/"+item,function(data){if(data.length>0){for(var i=0;i<data.length;i++)html+='<div class="vendor"><p><strong>'+data[i][0]+"</strong> "+data[i][1]+"</p><p>"+data[i][2]+"</p></div>";$(".products .results").prepend(html)}else $(".products .results").prepend("<p>No vendors carry this product.</p>")},"json")}else $(".products .results").prepend("<p>Please select a product</p>")}),$(".sponsor").length>0){var count=1,biggestHeight=0;$(".sponsor").each(function(){if(!$(this).hasClass("gold")&&!$(this).hasClass("silver")){var thisHeight=$(this).height();if(thisHeight>biggestHeight&&(biggestHeight=thisHeight),count%4==0){for(var current=$(".sponsor").index(this),i=current-3;current>=i;i++)$(".sponsor:eq("+i+")").height(biggestHeight);biggestHeight=0}count++}})}"#thumbs".length>0&&$("#thumbs").galleriffic({delay:1e4,numThumbs:17,imageContainerSel:"#image",controlsContainerSel:"#controls",autoStart:!0,playLinkText:"Play",pauseLinkText:"Pause",prevLinkText:"&lsaquo; Previous",nextLinkText:"Next &rsaquo;",nextPageLinkText:"Next &rsaquo;",prevPageLinkText:"&lsaquo; Prev"})});